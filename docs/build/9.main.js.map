{"version":3,"sources":["../../src/pages/activity/activity.module.ts","../../src/pages/activity/activity.ts"],"names":[],"mappings":"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","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityPage } from './activity';\n\n@NgModule({\n  declarations: [\n    ActivityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityPage),\n  ],\n  exports: [\n    ActivityPage\n  ]\n})\nexport class ActivityPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, NavController, NavParams, Platform, ViewController} from 'ionic-angular';\nimport {ActivityProvider} from \"../../providers/activity/activity\";\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { Printer, PrintOptions } from '@ionic-native/printer';\nimport {AlertProvider} from \"../../providers/alert/alert\";\nimport {SocialSharing} from \"@ionic-native/social-sharing\";\nimport {NotificationProvider} from \"../../providers/notification/notification\";\n\n/**\n * Generated class for the ActivityPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-activity',\n  templateUrl: 'activity.html',\n})\nexport class ActivityPage {\n  activity: any;\n  dailyActivityCompleted: boolean = false;\n  allActivities: any = [];\n  activityUniqueId: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityProvider: ActivityProvider, private iab: InAppBrowser, private platform: Platform,\n              private printer: Printer, private alert: AlertProvider, private socialSharing: SocialSharing,\n              private notificationProvider: NotificationProvider, private viewCtrl: ViewController) {\n    let activityObj = this.navParams.get(\"activity\");\n    console.log(\"activityObj\", activityObj);\n    if(!activityObj) {\n      this.activityProvider.getRandomActivity().then(randomActivity => {\n        this.activity = randomActivity;\n      });\n    } else {\n      this.activity = activityObj;\n    }\n    this.allActivities = this.navParams.get(\"allActivities\");\n    this.activityUniqueId = this.navParams.get(\"uniqueId\");\n\n    console.log(platform.is('cordova'));\n  }\n\n  nextActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      }\n    }\n  }\n\n  previousActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      }\n    }\n  }\n\n  loadNextActivity(nextActivity, animationDirection) {\n    if(nextActivity) {\n      this.navCtrl.push(\"ActivityPage\", {\n        activity: nextActivity,\n        allActivities: this.allActivities,\n        uniqueId: this.activityUniqueId\n      }, { animate: true, animation: 'ios-transition', direction: animationDirection }).then(() => {\n        const index = this.viewCtrl.index;\n        this.navCtrl.remove(index);\n      });\n\n    }\n  }\n\n  activityIsNotFirst() {\n    if(this.allActivities)\n      return this.allActivities[0] !== this.activity;\n    return false;\n  }\n\n  activityIsNotLast() {\n    if(this.allActivities)\n      return this.allActivities[this.allActivities.length - 1] !== this.activity;\n    return false;\n  }\n\n  activityDoneForToday() {\n    this.activityProvider.setActivityCompletedForToday().then(result => {\n      this.dailyActivityCompleted = true;\n      if(!this.platform.is('core')) {\n        this.alert.displayToast(\"Η άσκηση για σήμερα καταγράφηκε\");\n      }\n    });\n  }\n\n  openLink(url) {\n    this.iab.create(url);\n  }\n\n  print() {\n    console.log(\"checking for printer\");\n    this.printer.isAvailable().then(isAvailable => {\n      console.log(\"isAvailable\", isAvailable);\n      if(isAvailable) {\n        this.pickPrinter();\n      } else {\n        this.printerNotAvailable();\n      }\n    });\n  }\n\n  pickPrinter() {\n    console.log(\"pickPrinter\");\n    this.printer.pick().then(result => {\n      if(result !== null)\n        this.alert.displayToast(\"Printing option selected\");\n    });\n  }\n\n  printerNotAvailable() {\n    console.log(\"printer not available\");\n    this.alert.textDialog(\"Printer\", \"Δεν βρέθηκε εκτυπωτής στο τοπικό δίκτυο\");\n  }\n\n  printSuccess() {\n    console.log(\"document sent to printer\");\n  }\n\n  printError() {\n    console.log(\"print error\");\n    this.alert.textDialog(\"Printer error\", \"Συνέβη ένα σφάλμα κατά την εκτύπωση\");\n  }\n\n  printActivityDoc() {\n    console.log(\"ready to print\");\n    let options: PrintOptions = {\n      name: this.activity.title,\n      duplex: true,\n      landscape: false,\n      grayscale: true\n    };\n    this.printer.print(this.activity.title, options).then(this.printSuccess, this.printError);\n  }\n\n  private share(activity) {\n    var options = {\n      message: 'ΔιΆνοια - δραστηριότητα: ' + activity.title + \"    \",\n      subject: 'ΔιΆνοια - δραστηριότητα: ' + activity.title,\n      url: activity.link,\n      chooserTitle: 'Κοινοποίηση με...'\n    };\n\n    this.socialSharing.shareWithOptions(options).then(result => {\n      console.log(result);\n      // if(result.completed)\n        this.alert.displayToast(\"Η δραστηριοτητα κοινοποιηθηκε\");\n    }).catch(error => {\n      this.alert.textDialog(\"Error\", \"Αυτή η συσκευή δεν υποστηρίζει κοινοποίηση\");\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.ts"],"sourceRoot":""}