{"version":3,"sources":["../../src/pages/activity-categories/activity-categories.module.ts","../../src/components/buttons-list/buttons-list.ts","../../src/pages/activity-categories/activity-categories.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACe;AACiB;AAehF,IAAa,+BAA+B;IAA5C;IAA8C,CAAC;IAAD,sCAAC;AAAD,CAAC;AAAlC,+BAA+B;IAZ3C,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oFAAsB;YACtB,mGAAoB;SACrB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,oFAAsB,CAAC;SACjD;QACD,OAAO,EAAE;YACP,oFAAsB;SACvB;KACF,CAAC;GACW,+BAA+B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;AClByB;AAErE;;;;;GAKG;AAKH,IAAa,oBAAoB;IAK/B;QAFU,gBAAW,GAAG,IAAI,mEAAY,EAAE,CAAC;IAG3C,CAAC;IAED,8CAAe,GAAf;QACE,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,4CAAa,GAAb,UAAc,MAAM;QAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC;IAC/B,CAAC;IAEH,2BAAC;AAAD,CAAC;AAdmB;IAAjB,mFAAK,CAAC,SAAS,CAAC;;qDAAgB;AACvB;IAAT,qFAAM,EAAE;;yDAAkC;AAHhC,oBAAoB;IAJhC,wFAAS,CAAC;QACT,QAAQ,EAAE,cAAc;OACQ;KACjC,CAAC;;AAiBD;SAhBY,oBAAoB,W;;;;;;;;;;;;;;;;;;;;;;ACZS;AAC0B;AACyB;AAC1B;AAOnE,IAAa,sBAAsB;IAGjC,gCAAmB,OAAsB,EAAS,SAAoB,EAClD,wBAAkD,EAAU,gBAAkC;QADlH,iBASC;QATkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAClD,6BAAwB,GAAxB,wBAAwB,CAA0B;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAChH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACnD,kEAAkE;QAClE,EAAE,EAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,wBAAwB,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC,oBAAU;gBACnE,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC/B,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAGD,+CAAc,GAAd,UAAe,cAAmB;QAAlC,iBAWC;QAVC,4FAA4F;QAC5F,IAAI,CAAC,wBAAwB,CAAC,2BAA2B,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,+BAAqB;YACnH,EAAE,EAAC,qBAAqB,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClD,KAAI,CAAC,2BAA2B,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YAC/D,CAAC;YAED,IAAI,CAAC,EAAE,EAAC,qBAAqB,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpD,KAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yDAAwB,GAAxB,UAAyB,UAAkB;QAA3C,iBAQC;QAPC,IAAI,CAAC,wBAAwB,CAAC,wBAAwB,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,uBAAa;YACxF,EAAE,EAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;gBACzB,KAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,oBAAU;oBAC1E,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;gBACxC,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,4DAA2B,GAAnC,UAAoC,UAAkB;QAAtD,iBAUC;QATC,IAAI,CAAC,wBAAwB,CAAC,2BAA2B,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,0BAAgB;YAC9F,EAAE,EAAC,gBAAgB,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,uBAAa;oBACxF,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;oBAC5C,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wBAAwB,EAAE,EAAC,UAAU,EAAE,aAAa,EAAC,CAAC;gBAC1E,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IACH,6BAAC;AAAD,CAAC;AAjDY,sBAAsB;IALlC,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;OACG;KACxC,CAAC;gNAIyC,EAA6B;QACxB,mBAAoE;AA6CnH;SAjDY,sBAAsB,gB","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityCategoriesPage } from './activity-categories';\nimport {ButtonsListComponent} from \"../../components/buttons-list/buttons-list\";\n\n\n@NgModule({\n  declarations: [\n    ActivityCategoriesPage,\n    ButtonsListComponent\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityCategoriesPage),\n  ],\n  exports: [\n    ActivityCategoriesPage\n  ]\n})\nexport class TopActivityCategoriesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.module.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n/**\n * Generated class for the ButtonsListComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'buttons-list',\n  templateUrl: 'buttons-list.html'\n})\nexport class ButtonsListComponent {\n\n  @Input('buttons') buttons: [any];\n  @Output() buttonClick = new EventEmitter();\n\n  constructor() {\n  }\n\n  ngAfterViewInit() {\n    console.log(\"buttons\", this.buttons);\n  }\n\n  onButtonClick(button) {\n    this.buttonClick.emit(button)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttons-list/buttons-list.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {ActivityCategoryProvider} from \"../../providers/activity-category/activity-category\";\nimport {ActivityProvider} from \"../../providers/activity/activity\";\n\n@IonicPage()\n@Component({\n  selector: 'page-activity-categories',\n  templateUrl: 'activity-categories.html',\n})\nexport class ActivityCategoriesPage {\n  categories: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityCategoryProvider: ActivityCategoryProvider, private activityProvider: ActivityProvider) {\n    this.categories = this.navParams.get(\"categories\");\n    // if no categories passed as parameter, load top-level categories\n    if(this.categories == null) {\n      this.activityCategoryProvider.getTopLevelCategories().then(categories => {\n        this.categories = categories;\n      });\n    }\n  }\n\n\n  selectCategory(categoryButton: any) {\n    // if the selected category has subcategories, get the subcategories and load the page again\n    this.activityCategoryProvider.getRelationshipsForCategory(categoryButton.category_id).subscribe(categoryRelationships => {\n      if(categoryRelationships.subcategories.length > 0) {\n        this.getSubcategoriesAndLoadPage(categoryButton.category_id);\n      }\n      // else, if the selected has activities, get the activities and load the activities page\n      else if(categoryRelationships.activities.length > 0) {\n        this.getActivitiesAndLoadPage(categoryButton.category_id);\n      }\n    });\n  }\n\n  getActivitiesAndLoadPage(categoryId: string) {\n    this.activityCategoryProvider.getActivitiesForCategory(categoryId).subscribe(activitiesIds => {\n      if(activitiesIds != null) {\n        this.activityProvider.getActivitiesByIds(activitiesIds).subscribe(activities => {\n          console.log(\"activities\", activities);\n        });\n      }\n    });\n  }\n\n  private getSubcategoriesAndLoadPage(categoryId: string) {\n    this.activityCategoryProvider.getSubcategoriesForCategory(categoryId).subscribe(subcategoriesIds => {\n      if(subcategoriesIds != null) {\n        this.activityCategoryProvider.getCategoriesByIds(subcategoriesIds).subscribe(subcategories => {\n          console.log(\"subcategories\", subcategories);\n          this.navCtrl.push(\"ActivityCategoriesPage\", {categories: subcategories})\n        });\n      }\n    });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.ts"],"sourceRoot":""}